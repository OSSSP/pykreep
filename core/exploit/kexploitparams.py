import core.errors


class KExploitParams:
    def __init__(self):
        self.params = []


    def add_param(self, name, required=True, description=None, default_value=None):
        if not name:
            raise core.errors.ParameterError('Invalid param name')

        self.params.append({
            "name": name,
            "required": required,
            "description": description,
            "value": default_value
        })

        return self

    def set_param(self, name, value):
        for param in self.params:
            if param['name'] == name:
                param['value'] = value
                break
        else:
            raise core.errors.ParameterError('No such param \'{}\''.format(name))
        return self
